<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Acre</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-800 flex items-center justify-center h-screen w-screen">

    <div id="loading-screen" class="fixed inset-0 bg-gray-900 flex flex-col items-center justify-center z-50">
        <h1 class="text-6xl text-white" style="text-shadow: 4px 4px #222;">Acre</h1>
        <div id="loading-visual" class="w-32 h-32 mt-8"></div>
        <p id="loading-status" class="mt-8 text-lg text-gray-400">Initializing...</p>
    </div>

    <div id="character-select-screen" class="hidden text-center z-40">
         <h2 class="text-4xl md:text-5xl mb-8" style="text-shadow: 3px 3px #111;">Choose Your Character</h2>
         <div id="character-grid" class="grid grid-cols-2 md:grid-cols-4 gap-8">
             </div>
         <button id="start-game-btn" class="pixel-button w-64 mt-12">Start Game</button>
    </div>


    <div id="main-menu" class="hidden text-center">
        <div id="parallax-bg" class="parallax-bg">
            <div id="parallax-sky" class="parallax-layer"></div>
            <div id="parallax-far-hills" class="parallax-layer"></div>
            <div id="parallax-hills" class="parallax-layer"></div>
            <div id="parallax-trees" class="parallax-layer"></div>
        </div>
        <div class="relative z-10">
            <h1 class="text-6xl md:text-8xl mb-12" style="text-shadow: 4px 4px #222;">Acre</h1>
            <div class="space-y-4 flex flex-col items-center">
                <button id="host-btn" class="pixel-button w-64">Host New World</button>
                <button id="join-btn" class="pixel-button w-64">Join World</button>
            </div>
        </div>
    </div>

    <div id="join-world-modal" class="hidden absolute z-30 inset-0 bg-black bg-opacity-50 flex items-center justify-center">
        <div class="modal text-center space-y-4">
            <h2 class="text-2xl">Join World</h2>
            <input type="text" id="world-code-input" placeholder="Enter World Code" class="pixel-input text-center uppercase" maxlength="6">
            <div class="flex gap-4">
                <button id="join-confirm-btn" class="pixel-button">Join</button>
                <button id="join-cancel-btn" class="pixel-button">Cancel</button>
            </div>
        </div>
    </div>

    <div id="game-container" class="hidden w-full h-full relative">
        <canvas id="game-canvas"></canvas>
        
        <div id="hud" class="w-full h-full absolute top-0 left-0 pointer-events-none">
            <div id="health-bar" class="hud-element top-4 left-4 flex gap-1 text-2xl"></div>

            <div id="hotbar" class="hud-element bottom-4 left-1/2 -translate-x-1/2 flex gap-2 pointer-events-auto"></div>

            <button id="pause-btn" class="hud-element top-4 right-4 pixel-button pointer-events-auto">||</button>
            
            <button id="inventory-btn" class="hud-element bottom-20 left-1/2 -translate-x-1/2 pixel-button pointer-events-auto text-xs">INV/CRAFT</button>
        </div>

        <div id="mobile-controls" class="hidden md:hidden">
            <div class="d-pad">
                <button id="d-pad-left" class="d-pad-btn text-2xl">◀</button>
                <button id="d-pad-right" class="d-pad-btn text-2xl">▶</button>
            </div>
            <div class="action-buttons">
                <button id="jump-button" class="action-btn">JUMP</button>
                <button id="action-button" class="action-btn">ACT</button>
            </div>
        </div>
    </div>

    <div id="pause-menu" class="hidden absolute z-30 inset-0 bg-black bg-opacity-50 flex items-center justify-center">
        <div class="modal text-center space-y-4">
            <h2 class="text-2xl">Paused</h2>
            <p>World Code:</p>
            <p id="pause-world-code" class="text-3xl tracking-widest"></p>
            <button id="resume-btn" class="pixel-button">Resume</button>
            <button id="exit-btn" class="pixel-button">Exit to Menu</button>
        </div>
    </div>

    <div id="inventory-screen" class="hidden absolute z-20 inset-0 bg-black bg-opacity-75 p-4 md:p-8 flex flex-col md:flex-row gap-8">
        <div class="w-full md:w-2/3">
            <h2 class="text-xl mb-4">Inventory</h2>
            <div id="inventory-grid" class="p-4 bg-black bg-opacity-50 rounded"></div>
        </div>
        <div class="w-full md:w-1/3">
            <h2 class="text-xl mb-4">Crafting</h2>
            <div id="crafting-recipes" class="crafting-recipes p-4 bg-black bg-opacity-50 rounded h-full overflow-y-auto"></div>
        </div>
        <button id="close-inventory-btn" class="absolute top-4 right-4 pixel-button">X</button>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
